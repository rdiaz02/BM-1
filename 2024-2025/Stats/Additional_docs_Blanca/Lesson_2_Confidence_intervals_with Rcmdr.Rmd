---
title: "Confident intervals with Rcmdr"
author: "Blanca Lizarbe, blanca.lizarbe@uam.es"
output:
     bookdown::pdf_document2: default
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = FALSE)

library(car)
library(RcmdrMisc)
library(ggplot2)
library(knitr)
```


The following text and explanation is partly inspired form the book *"Discovering statistics using R" by Z. Field, A. Field and J. Miles"*.


# Definition of confident intervals
Weâ€™re interested in using the sample mean as an estimate of the value in the population. We have seen that different samples will give rise to different values of the mean, and we can use the standard error to get some idea of the extent to which sample means differ. A different approach to assessing the accuracy of the sample mean as an estimate of the mean in the population is to calculate **boundaries within which we believe the true value of the mean will fall**. Such boundaries are called **confidence intervals**. The basic idea behind confidence intervals is to construct a range of values within which we think the population value falls.


# Example

**Example using Rcmdr**: We will know create an example using  the *TeachingDemo plugin*. To facilitate the learning proceess, we will start with an example in which we are supposed to know the *true mean* of an event, which is normally not known. Imagine we know for sure that, on average, those men living in the Community of Madrid (CM) that have had a heart attack in their lives, had their first heart problems at the age of 75, with a SD of 8 years. So the true mean is in this example, 75. We now imagine that we take surveys on men living in Madrid, using samples of 25 individuals. For example, we take 25 individuals leaving in one specific district of the city. We ask them when they had they first heart problem, and the mean value, on this specific sample, is 77. It is not 75, but it is close. We can repeat this on, for example, 100 districts/villages in the CM. Go to **Rcmdr -> Demos -> CI of the mean** and generate a dataset with the mentioned characteristics. If you set the "confident level" to 0.95, you should obtain something *similar* to the figure below.

```{r fig.cap = "Mean and CI of 100 samples of n=25, with a true mean of 75, st dev of 8, and confident level of 0.95", fig.align= "center"}
knitr::include_graphics("C:/Users/BL.5060101/Dropbox/PC (2)/Documents/UAM 23-24/BM-2/Lesson2/CI.pdf")
```
For each sample surveyed, we have a mean value, and a corresponding boundary. Observe that there is a black vertical line on the "true mean" (75), and that most of the times the boundaries of each sample mean cover the true mean, but there are a few cases in which this is not true. In fact, **the boundaries surrounding each sample mean are constructed in a way that they will cover 95% of the times the true mean**. If we change the "confident level" to 0.99, then this means that the boundaries are constructed in a way that hey will cover 99% of the times the true mean. Go to  **Rcmdr -> Demos -> CI of the mean** and generate different conditions to understand the different effects of changing the parameters.